{% extends "homepage_admin.html" %}

{% block title %}
    Admin Archives
{% endblock %}
{% block main %}
<br><br>
<form action="/admin_history_search" method="post">
  <input list="types" placeholder="Search by" name="search_type_history">
  <datalist id="types" aria-label="Default select example">
    <option value="Book"></option>
    <option value="User"></option>
    <option value="Reservation"></option>
  </datalist>
  <input style="width: 150px;" name="ID" placeholder="ID"> <button class="btn btn-primary btn-block">Search</button> <button type="button" onclick="location.href= '/admin_history';" class="btn btn-primary btn-block">Reset filter</button>
</form>
<br>
<table class="table table-striped table-dark">
    <thead>
      <tr>
        <th scope="col"></th>
        <th scope="col">History ID</th>
        <th scope="col">Reservation ID</th>
        <th scope="col">Book ID</th>
        <th scope="col">Deadline</th>
        <th scope="col">Returned</th>
        <th scope="col">User ID</th>
        <th scope="col">User Email</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
        {%for row in rows%}
            <tr>
                <th scope="row"></th>
                <td>{{ row["history_id"] }}</td>
                <td>{{ row["reservation_id"] }}</td>
                <td>{{ row["book_id"] }}</td>
                <td>{{ row["deadline"] }}</td>
                <td>{{ row["date_returned"] }}</td>
                <td>{{ row["user_id"] }}</td>
                <td>{{ row["email"] }}</td>
                <td></td>
              </tr>
        {% endfor %}
    </tbody>
  </table>
{% endblock %}
